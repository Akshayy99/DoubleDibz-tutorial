(function(e){typeof define=="function"&&define.amd?define(["load-image"],e):e(window.loadImage)})(function(e){var t=e.hasCanvasOption,n=e.transformCoordinates,r=e.getTransformedOptions;e.hasCanvasOption=function(n){return t.call(e,n)||n.orientation},e.transformCoordinates=function(t,r){n.call(e,t,r);var i=t.getContext("2d"),s=t.width,o=t.height,u=r.orientation;if(!u||u>8)return;u>4&&(t.width=o,t.height=s);switch(u){case 2:i.translate(s,0),i.scale(-1,1);break;case 3:i.translate(s,o),i.rotate(Math.PI);break;case 4:i.translate(0,o),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-o);break;case 7:i.rotate(.5*Math.PI),i.translate(s,-o),i.scale(-1,1);break;case 8:i.rotate(-0.5*Math.PI),i.translate(-s,0)}},e.getTransformedOptions=function(t,n){var i=r.call(e,t,n),s=i.orientation,o,u;if(!s||s>8||s===1)return i;o={};for(u in i)i.hasOwnProperty(u)&&(o[u]=i[u]);switch(i.orientation){case 2:o.left=i.right,o.right=i.left;break;case 3:o.left=i.right,o.top=i.bottom,o.right=i.left,o.bottom=i.top;break;case 4:o.top=i.bottom,o.bottom=i.top;break;case 5:o.left=i.top,o.top=i.left,o.right=i.bottom,o.bottom=i.right;break;case 6:o.left=i.top,o.top=i.right,o.right=i.bottom,o.bottom=i.left;break;case 7:o.left=i.bottom,o.top=i.right,o.right=i.top,o.bottom=i.left;break;case 8:o.left=i.bottom,o.top=i.left,o.right=i.top,o.bottom=i.right}return i.orientation>4&&(o.maxWidth=i.maxHeight,o.maxHeight=i.maxWidth,o.minWidth=i.minHeight,o.minHeight=i.minWidth,o.sourceWidth=i.sourceHeight,o.sourceHeight=i.sourceWidth),o}});